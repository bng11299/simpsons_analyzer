<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simpsons Episode Popularity Classification</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #ffd700 0%, #ff6b35 100%); padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; }
        .header { text-align: center; color: white; margin-bottom: 30px; }
        .header h1 { font-size: 3em; text-shadow: 3px 3px 6px rgba(0,0,0,0.3); }
        .card { background: white; border-radius: 15px; padding: 25px; margin: 20px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .card h2 { color: #ff6b35; border-bottom: 3px solid #ffd700; padding-bottom: 10px; margin-bottom: 20px; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background: #ff6b35; color: white; }
        .best-row { background: #ffd70033; font-weight: bold; }
        .chart-container { height: 400px; margin: 20px 0; }
        .metric { display: inline-block; margin: 10px 20px; padding: 15px 25px; background: #f8f9fa; border-radius: 10px; }
        .metric-value { font-size: 2em; font-weight: bold; color: #ff6b35; }
        .metric-label { color: #666; font-size: 0.9em; }
        .feature-bar { margin: 10px 0; }
        .bar-container { background: #f0f0f0; height: 30px; border-radius: 15px; overflow: hidden; }
        .bar-fill { height: 100%; background: linear-gradient(90deg, #ffd700 0%, #ff6b35 100%); display: flex; align-items: center; justify-content: flex-end; padding-right: 10px; color: white; font-weight: bold; }
        .confusion-matrix { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0; }
        .cm-cell { padding: 30px; border-radius: 10px; text-align: center; font-size: 1.5em; font-weight: bold; }
        .cm-tn { background: #d1fae5; color: #065f46; }
        .cm-fp { background: #fee2e2; color: #991b1b; }
        .cm-fn { background: #fee2e2; color: #991b1b; }
        .cm-tp { background: #d1fae5; color: #065f46; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> Simpsons Episode Popularity Classification</h1>
            <p>Binary Classification: Popular vs Not Popular</p>
            <p style="font-size: 0.9em; margin-top: 10px;">Threshold: IMDB Rating > 7.30 = Popular</p>
        </div>
        
        <div class="card">
            <h2> Best Model: SVM</h2>
            <div class="metric">
                <div class="metric-value">0.942</div>
                <div class="metric-label">Accuracy</div>
            </div>
            <div class="metric">
                <div class="metric-value">0.939</div>
                <div class="metric-label">Precision</div>
            </div>
            <div class="metric">
                <div class="metric-value">0.920</div>
                <div class="metric-label">Recall</div>
            </div>
            <div class="metric">
                <div class="metric-value">0.929</div>
                <div class="metric-label">F1 Score</div>
            </div>
            <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
                <strong> Interpretation:</strong><br>
                The model correctly classifies <strong>94.2%</strong> of episodes.<br>
                F1 Score of <strong>0.929</strong> shows balanced precision and recall.
            </div>
        </div>
        
        <div class="card">
            <h2> Confusion Matrix</h2>
            <div class="confusion-matrix">
                <div class="cm-cell cm-tn">
                    <div>True Negatives</div>
                    <div>67</div>
                </div>
                <div class="cm-cell cm-fp">
                    <div>False Positives</div>
                    <div>3</div>
                </div>
                <div class="cm-cell cm-fn">
                    <div>False Negatives</div>
                    <div>4</div>
                </div>
                <div class="cm-cell cm-tp">
                    <div>True Positives</div>
                    <div>46</div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2> Model Comparison</h2>
            <div class="chart-container">
                <canvas id="comparisonChart"></canvas>
            </div>
            <table>
                <thead>
                    <tr>
                        <th>Model</th>
                        <th>Accuracy</th>
                        <th>Precision</th>
                        <th>Recall</th>
                        <th>F1 Score</th>
                    </tr>
                </thead>
                <tbody id="comparisonTable"></tbody>
            </table>
        </div>
        
        <div class="card">
            <h2>ðŸŽ¯ Feature Importance</h2>
            <div id="featureImportance"></div>
        </div>
    </div>
    
    <script>
        const data = {"bestModel": "SVM", "threshold": 7.3, "modelComparison": [{"name": "Logistic Regression", "accuracy": 0.9333333333333333, "precision": 0.9375, "recall": 0.9, "f1": 0.9183673469387755}, {"name": "Naive Bayes", "accuracy": 0.9333333333333333, "precision": 1.0, "recall": 0.84, "f1": 0.9130434782608695}, {"name": "Decision Tree", "accuracy": 0.925, "precision": 0.9361702127659575, "recall": 0.88, "f1": 0.9072164948453608}, {"name": "Random Forest", "accuracy": 0.9416666666666667, "precision": 0.9777777777777777, "recall": 0.88, "f1": 0.9263157894736842}, {"name": "Gradient Boosting", "accuracy": 0.925, "precision": 0.9361702127659575, "recall": 0.88, "f1": 0.9072164948453608}, {"name": "SVM", "accuracy": 0.9416666666666667, "precision": 0.9387755102040817, "recall": 0.92, "f1": 0.9292929292929293}], "featureImportance": [], "confusionMatrix": {"tn": 67, "fp": 3, "fn": 4, "tp": 46}, "bestModelMetrics": {"accuracy": 0.9416666666666667, "precision": 0.9387755102040817, "recall": 0.92, "f1": 0.9292929292929293}};
        
        // Populate comparison table
        const tbody = document.getElementById('comparisonTable');
        data.modelComparison.forEach(model => {
            const row = tbody.insertRow();
            if (model.name === data.bestModel) row.className = 'best-row';
            row.innerHTML = `
                <td>${model.name}</td>
                <td>${model.accuracy.toFixed(3)}</td>
                <td>${model.precision.toFixed(3)}</td>
                <td>${model.recall.toFixed(3)}</td>
                <td>${model.f1.toFixed(3)}</td>
            `;
        });
        
        // Model comparison chart
        new Chart(document.getElementById('comparisonChart'), {
            type: 'bar',
            data: {
                labels: data.modelComparison.map(m => m.name),
                datasets: [
                    {
                        label: 'Accuracy',
                        data: data.modelComparison.map(m => m.accuracy),
                        backgroundColor: 'rgba(255, 215, 0, 0.7)'
                    },
                    {
                        label: 'F1 Score',
                        data: data.modelComparison.map(m => m.f1),
                        backgroundColor: 'rgba(255, 107, 53, 0.7)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true, max: 1 }
                }
            }
        });
        
        // Feature importance
        const featureDiv = document.getElementById('featureImportance');
        if (data.featureImportance.length > 0) {
            data.featureImportance.forEach(feat => {
                const pct = (feat.importance * 100).toFixed(1);
                featureDiv.innerHTML += `
                    <div class="feature-bar">
                        <div>${feat.name}</div>
                        <div class="bar-container">
                            <div class="bar-fill" style="width: ${pct}%">${pct}%</div>
                        </div>
                    </div>
                `;
            });
        } else {
            featureDiv.innerHTML = '<p>Feature importance not available for this model.</p>';
        }
    </script>
</body>
</html>
